<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Répertoire</title>

<style>
body { 
    font-family: Arial, sans-serif; 
    margin: 20px; 
}
h1 { 
    font-size: 22px; 
}
input, select { 
    padding: 8px; 
    width: 100%; 
    margin-bottom: 15px; 
    font-size: 16px; 
}
.contact { 
    padding: 10px; 
    border-bottom: 1px solid #ccc; 
}
.contact strong { 
    font-size: 17px; 
}
</style>

</head>
<body>

<h1>Répertoire</h1>

<input type="text" id="searchName" placeholder="Rechercher un nom">
<select id="searchActivity">
    <option value="">Toutes activités</option>
    <option value="Menuiserie">Menuiserie</option>
    <option value="Paysagiste">Paysagiste</option>
    <option value="Rénovation">Rénovation</option>
    <option value="Immobilier">Immobilier</option>
</select>

<div id="list"></div>

<script>
const contacts = [
    { company: "Alpha Bois", person: "Jean Dupont", activity: "Menuiserie" },
    { company: "BatiPro", person: "Marie Durand", activity: "Rénovation" },
    { company: "GreenDesign", person: "Paul Martin", activity: "Paysagiste" },
    { company: "ImmoPlus", person: "Claire Bernard", activity: "Immobilier" }
];

function render() {
    const nameFilter = document.getElementById("searchName").value.toLowerCase();
    const activityFilter = document.getElementById("searchActivity").value;

    const filtered = contacts
        .filter(c =>
            (c.company.toLowerCase().includes(nameFilter) ||
             c.person.toLowerCase().includes(nameFilter)) &&
            (activityFilter === "" || c.activity === activityFilter)
        )
        .sort((a, b) => a.company.localeCompare(b.company));

    const list = document.getElementById("list");
    list.innerHTML = "";

    filtered.forEach(c => {
        list.innerHTML += `
            <div class="contact">
                <strong>${c.company}</strong><br>
                ${c.person}<br>
                <em>${c.activity}</em>
            </div>
        `;
    });
}

document.getElementById("searchName").addEventListener("input", render);
document.getElementById("searchActivity").addEventListener("change", render);

render();
</script>

</body>
</html>
